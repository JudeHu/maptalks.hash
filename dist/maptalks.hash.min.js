/*!
 * maptalks.hash v0.1.0
 * LICENSE : 
 * (c) 2016-2017 maptalks.org
 */
/*!
 * requires maptalks@>=0.31.0 
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("maptalks")):"function"==typeof define&&define.amd?define(["exports","maptalks"],t):t(e.maptalks=e.maptalks||{},e.maptalks)}(this,function(e,t){"use strict";function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var o=Object.getOwnPropertyNames(t),n=0;n<o.length;n++){var i=o[n],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}var n={precision:3,template:"{zoom}/{pitch}/{bearing}/{x}/{y}"},i=function(e){function i(t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o=Object.assign({},n,o);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,o));return r._map=t,r._view=r._map.getView(),r.bindEvent(),r}return o(i,e),i.prototype.bindEvent=function(){t.DomUtil.addDomEvent(window,"hashchange",this.onHashChange,this),this._map.on("viewchange",this.onViewChange,this)},i.prototype.setHash=function(){},i.prototype.getHash=function(){},i.prototype.getView=function(){return this._map.getView()},i.prototype.setView=function(e){e=Object.assign(this._view,e),this._map.setView(e)},i.prototype.onHashChange=function(e){window.location.hash,this.viewToHash(this.getView())},i.prototype.onViewChange=function(e){window.location.hash=this.viewToHash(e.new)},i.prototype.viewToHash=function(e){var o=this.options,n=o.template,i=o.precision;return t.StringUtil.replaceVariable(n,{zoom:e.zoom,pitch:Math.floor(e.pitch),bearing:Math.floor(e.bearing),x:e.center[0].toFixed(i),y:e.center[1].toFixed(i)})},i}(t.Class);e.Hash=i,Object.defineProperty(e,"__esModule",{value:!0}),"undefined"!=typeof console&&console.log("maptalks.hash v0.1.0, requires maptalks@>=0.31.0.")});